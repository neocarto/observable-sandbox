import{InternMap as J,range as An,bisect as b,tickStep as qn,ticks as O,tickIncrement as Dn,ascending as K,quantileSorted as In,quantile as Rn}from"../d3-array@3.2.4/index.f89e3560.js";import{interpolateNumber as Fn,interpolate as T,interpolateRound as E,piecewise as On}from"../d3-interpolate@3.0.1/index.7ed7c7fe.js";import{formatSpecifier as V,precisionFixed as Tn,precisionRound as En,precisionPrefix as Pn,formatPrefix as Ln,format as X}from"../d3-format@3.1.0/index.75f84505.js";import{timeSecond as Bn,timeMinute as Yn,timeHour as Cn,timeDay as Qn,timeWeek as Un,timeMonth as zn,timeYear as Hn,timeTickInterval as Wn,timeTicks as jn,utcSecond as Gn,utcMinute as Jn,utcHour as Kn,utcDay as Vn,utcWeek as Xn,utcMonth as Zn,utcYear as _n,utcTickInterval as nt,utcTicks as tt}from"../d3-time@3.1.0/index.8fcc123e.js";import{timeFormat as rt,utcFormat as et}from"../d3-time-format@4.1.0/index.20c5f3ca.js";function M(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function x(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const P=Symbol("implicit");function L(){var n=new J,t=[],a=[],r=P;function u(e){let i=n.get(e);if(i===void 0){if(r!==P)return r;n.set(e,i=t.push(e)-1)}return a[i%a.length]}return u.domain=function(e){if(!arguments.length)return t.slice();t=[],n=new J;for(const i of e)n.has(i)||n.set(i,t.push(i)-1);return u},u.range=function(e){return arguments.length?(a=Array.from(e),u):a.slice()},u.unknown=function(e){return arguments.length?(r=e,u):r},u.copy=function(){return L(t,a).unknown(r)},M.apply(u,arguments),u}function B(){var n=L().unknown(void 0),t=n.domain,a=n.range,r=0,u=1,e,i,l=!1,s=0,o=0,g=.5;delete n.unknown;function f(){var c=t().length,p=u<r,d=p?u:r,m=p?r:u;e=(m-d)/Math.max(1,c-s+o*2),l&&(e=Math.floor(e)),d+=(m-d-e*(c-s))*g,i=e*(1-s),l&&(d=Math.round(d),i=Math.round(i));var k=An(c).map(function(v){return d+e*v});return a(p?k.reverse():k)}return n.domain=function(c){return arguments.length?(t(c),f()):t()},n.range=function(c){return arguments.length?([r,u]=c,r=+r,u=+u,f()):[r,u]},n.rangeRound=function(c){return[r,u]=c,r=+r,u=+u,l=!0,f()},n.bandwidth=function(){return i},n.step=function(){return e},n.round=function(c){return arguments.length?(l=!!c,f()):l},n.padding=function(c){return arguments.length?(s=Math.min(1,o=+c),f()):s},n.paddingInner=function(c){return arguments.length?(s=Math.min(1,c),f()):s},n.paddingOuter=function(c){return arguments.length?(o=+c,f()):o},n.align=function(c){return arguments.length?(g=Math.max(0,Math.min(1,c)),f()):g},n.copy=function(){return B(t(),[r,u]).round(l).paddingInner(s).paddingOuter(o).align(g)},M.apply(f(),arguments)}function Z(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Z(t())},n}function ut(){return Z(B.apply(null,arguments).paddingInner(1))}function at(n){return function(){return n}}function D(n){return+n}var _=[0,1];function y(n){return n}function Y(n,t){return(t-=n=+n)?function(a){return(a-n)/t}:at(isNaN(t)?NaN:.5)}function it(n,t){var a;return n>t&&(a=n,n=t,t=a),function(r){return Math.max(n,Math.min(t,r))}}function ot(n,t,a){var r=n[0],u=n[1],e=t[0],i=t[1];return u<r?(r=Y(u,r),e=a(i,e)):(r=Y(r,u),e=a(e,i)),function(l){return e(r(l))}}function ct(n,t,a){var r=Math.min(n.length,t.length)-1,u=new Array(r),e=new Array(r),i=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++i<r;)u[i]=Y(n[i],n[i+1]),e[i]=a(t[i],t[i+1]);return function(l){var s=b(n,l,1,r)-1;return e[s](u[s](l))}}function S(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function I(){var n=_,t=_,a=T,r,u,e,i=y,l,s,o;function g(){var c=Math.min(n.length,t.length);return i!==y&&(i=it(n[0],n[c-1])),l=c>2?ct:ot,s=o=null,f}function f(c){return c==null||isNaN(c=+c)?e:(s||(s=l(n.map(r),t,a)))(r(i(c)))}return f.invert=function(c){return i(u((o||(o=l(t,n.map(r),Fn)))(c)))},f.domain=function(c){return arguments.length?(n=Array.from(c,D),g()):n.slice()},f.range=function(c){return arguments.length?(t=Array.from(c),g()):t.slice()},f.rangeRound=function(c){return t=Array.from(c),a=E,g()},f.clamp=function(c){return arguments.length?(i=c?!0:y,g()):i!==y},f.interpolate=function(c){return arguments.length?(a=c,g()):a},f.unknown=function(c){return arguments.length?(e=c,f):e},function(c,p){return r=c,u=p,g()}}function C(){return I()(y,y)}function nn(n,t,a,r){var u=qn(n,t,a),e;switch(r=V(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(e=Pn(u,i))&&(r.precision=e),Ln(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(e=En(u,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=e-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(e=Tn(u))&&(r.precision=e-(r.type==="%")*2);break}}return X(r)}function N(n){var t=n.domain;return n.ticks=function(a){var r=t();return O(r[0],r[r.length-1],a??10)},n.tickFormat=function(a,r){var u=t();return nn(u[0],u[u.length-1],a??10,r)},n.nice=function(a){a==null&&(a=10);var r=t(),u=0,e=r.length-1,i=r[u],l=r[e],s,o,g=10;for(l<i&&(o=i,i=l,l=o,o=u,u=e,e=o);g-- >0;){if(o=Dn(i,l,a),o===s)return r[u]=i,r[e]=l,t(r);if(o>0)i=Math.floor(i/o)*o,l=Math.ceil(l/o)*o;else if(o<0)i=Math.ceil(i*o)/o,l=Math.floor(l*o)/o;else break;s=o}return n},n}function tn(){var n=C();return n.copy=function(){return S(n,tn())},M.apply(n,arguments),N(n)}function rn(n){var t;function a(r){return r==null||isNaN(r=+r)?t:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(n=Array.from(r,D),a):n.slice()},a.unknown=function(r){return arguments.length?(t=r,a):t},a.copy=function(){return rn(n).unknown(t)},n=arguments.length?Array.from(n,D):[0,1],N(a)}function en(n,t){n=n.slice();var a=0,r=n.length-1,u=n[a],e=n[r],i;return e<u&&(i=a,a=r,r=i,i=u,u=e,e=i),n[a]=t.floor(u),n[r]=t.ceil(e),n}function un(n){return Math.log(n)}function an(n){return Math.exp(n)}function lt(n){return-Math.log(-n)}function st(n){return-Math.exp(-n)}function ft(n){return isFinite(n)?+("1e"+n):n<0?0:n}function gt(n){return n===10?ft:n===Math.E?Math.exp:t=>Math.pow(n,t)}function mt(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function on(n){return(t,a)=>-n(-t,a)}function Q(n){const t=n(un,an),a=t.domain;let r=10,u,e;function i(){return u=mt(r),e=gt(r),a()[0]<0?(u=on(u),e=on(e),n(lt,st)):n(un,an),t}return t.base=function(l){return arguments.length?(r=+l,i()):r},t.domain=function(l){return arguments.length?(a(l),i()):a()},t.ticks=l=>{const s=a();let o=s[0],g=s[s.length-1];const f=g<o;f&&([o,g]=[g,o]);let c=u(o),p=u(g),d,m;const k=l==null?10:+l;let v=[];if(!(r%1)&&p-c<k){if(c=Math.floor(c),p=Math.ceil(p),o>0){for(;c<=p;++c)for(d=1;d<r;++d)if(m=c<0?d/e(-c):d*e(c),!(m<o)){if(m>g)break;v.push(m)}}else for(;c<=p;++c)for(d=r-1;d>=1;--d)if(m=c>0?d/e(-c):d*e(c),!(m<o)){if(m>g)break;v.push(m)}v.length*2<k&&(v=O(o,g,k))}else v=O(c,p,Math.min(p-c,k)).map(e);return f?v.reverse():v},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=V(s)).precision==null&&(s.trim=!0),s=X(s)),l===1/0)return s;const o=Math.max(1,r*l/t.ticks().length);return g=>{let f=g/e(Math.round(u(g)));return f*r<r-.5&&(f*=r),f<=o?s(g):""}},t.nice=()=>a(en(a(),{floor:l=>e(Math.floor(u(l))),ceil:l=>e(Math.ceil(u(l)))})),t}function cn(){const n=Q(I()).domain([1,10]);return n.copy=()=>S(n,cn()).base(n.base()),M.apply(n,arguments),n}function ln(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function sn(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function U(n){var t=1,a=n(ln(t),sn(t));return a.constant=function(r){return arguments.length?n(ln(t=+r),sn(t)):t},N(a)}function fn(){var n=U(I());return n.copy=function(){return S(n,fn()).constant(n.constant())},M.apply(n,arguments)}function gn(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function pt(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function ht(n){return n<0?-n*n:n*n}function z(n){var t=n(y,y),a=1;function r(){return a===1?n(y,y):a===.5?n(pt,ht):n(gn(a),gn(1/a))}return t.exponent=function(u){return arguments.length?(a=+u,r()):a},N(t)}function H(){var n=z(I());return n.copy=function(){return S(n,H()).exponent(n.exponent())},M.apply(n,arguments),n}function dt(){return H.apply(null,arguments).exponent(.5)}function mn(n){return Math.sign(n)*n*n}function yt(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function pn(){var n=C(),t=[0,1],a=!1,r;function u(e){var i=yt(n(e));return isNaN(i)?r:a?Math.round(i):i}return u.invert=function(e){return n.invert(mn(e))},u.domain=function(e){return arguments.length?(n.domain(e),u):n.domain()},u.range=function(e){return arguments.length?(n.range((t=Array.from(e,D)).map(mn)),u):t.slice()},u.rangeRound=function(e){return u.range(e).round(!0)},u.round=function(e){return arguments.length?(a=!!e,u):a},u.clamp=function(e){return arguments.length?(n.clamp(e),u):n.clamp()},u.unknown=function(e){return arguments.length?(r=e,u):r},u.copy=function(){return pn(n.domain(),t).round(a).clamp(n.clamp()).unknown(r)},M.apply(u,arguments),N(u)}function hn(){var n=[],t=[],a=[],r;function u(){var i=0,l=Math.max(1,t.length);for(a=new Array(l-1);++i<l;)a[i-1]=In(n,i/l);return e}function e(i){return i==null||isNaN(i=+i)?r:t[b(a,i)]}return e.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?a[l-1]:n[0],l<a.length?a[l]:n[n.length-1]]},e.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let l of i)l!=null&&!isNaN(l=+l)&&n.push(l);return n.sort(K),u()},e.range=function(i){return arguments.length?(t=Array.from(i),u()):t.slice()},e.unknown=function(i){return arguments.length?(r=i,e):r},e.quantiles=function(){return a.slice()},e.copy=function(){return hn().domain(n).range(t).unknown(r)},M.apply(e,arguments)}function dn(){var n=0,t=1,a=1,r=[.5],u=[0,1],e;function i(s){return s!=null&&s<=s?u[b(r,s,0,a)]:e}function l(){var s=-1;for(r=new Array(a);++s<a;)r[s]=((s+1)*t-(s-a)*n)/(a+1);return i}return i.domain=function(s){return arguments.length?([n,t]=s,n=+n,t=+t,l()):[n,t]},i.range=function(s){return arguments.length?(a=(u=Array.from(s)).length-1,l()):u.slice()},i.invertExtent=function(s){var o=u.indexOf(s);return o<0?[NaN,NaN]:o<1?[n,r[0]]:o>=a?[r[a-1],t]:[r[o-1],r[o]]},i.unknown=function(s){return arguments.length&&(e=s),i},i.thresholds=function(){return r.slice()},i.copy=function(){return dn().domain([n,t]).range(u).unknown(e)},M.apply(N(i),arguments)}function yn(){var n=[.5],t=[0,1],a,r=1;function u(e){return e!=null&&e<=e?t[b(n,e,0,r)]:a}return u.domain=function(e){return arguments.length?(n=Array.from(e),r=Math.min(n.length,t.length-1),u):n.slice()},u.range=function(e){return arguments.length?(t=Array.from(e),r=Math.min(n.length,t.length-1),u):t.slice()},u.invertExtent=function(e){var i=t.indexOf(e);return[n[i-1],n[i]]},u.unknown=function(e){return arguments.length?(a=e,u):a},u.copy=function(){return yn().domain(n).range(t).unknown(a)},M.apply(u,arguments)}function vt(n){return new Date(n)}function Mt(n){return n instanceof Date?+n:+new Date(+n)}function W(n,t,a,r,u,e,i,l,s,o){var g=C(),f=g.invert,c=g.domain,p=o(".%L"),d=o(":%S"),m=o("%I:%M"),k=o("%I %p"),v=o("%a %d"),A=o("%b %d"),q=o("%B"),bn=o("%Y");function Sn(h){return(s(h)<h?p:l(h)<h?d:i(h)<h?m:e(h)<h?k:r(h)<h?u(h)<h?v:A:a(h)<h?q:bn)(h)}return g.invert=function(h){return new Date(f(h))},g.domain=function(h){return arguments.length?c(Array.from(h,Mt)):c().map(vt)},g.ticks=function(h){var w=c();return n(w[0],w[w.length-1],h??10)},g.tickFormat=function(h,w){return w==null?Sn:o(w)},g.nice=function(h){var w=c();return(!h||typeof h.range!="function")&&(h=t(w[0],w[w.length-1],h??10)),h?c(en(w,h)):g},g.copy=function(){return S(g,W(n,t,a,r,u,e,i,l,s,o))},g}function kt(){return M.apply(W(jn,Wn,Hn,zn,Un,Qn,Cn,Yn,Bn,rt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wt(){return M.apply(W(tt,nt,_n,Zn,Xn,Vn,Kn,Jn,Gn,et).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function R(){var n=0,t=1,a,r,u,e,i=y,l=!1,s;function o(f){return f==null||isNaN(f=+f)?s:i(u===0?.5:(f=(e(f)-a)*u,l?Math.max(0,Math.min(1,f)):f))}o.domain=function(f){return arguments.length?([n,t]=f,a=e(n=+n),r=e(t=+t),u=a===r?0:1/(r-a),o):[n,t]},o.clamp=function(f){return arguments.length?(l=!!f,o):l},o.interpolator=function(f){return arguments.length?(i=f,o):i};function g(f){return function(c){var p,d;return arguments.length?([p,d]=c,i=f(p,d),o):[i(0),i(1)]}}return o.range=g(T),o.rangeRound=g(E),o.unknown=function(f){return arguments.length?(s=f,o):s},function(f){return e=f,a=f(n),r=f(t),u=a===r?0:1/(r-a),o}}function $(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function vn(){var n=N(R()(y));return n.copy=function(){return $(n,vn())},x.apply(n,arguments)}function Mn(){var n=Q(R()).domain([1,10]);return n.copy=function(){return $(n,Mn()).base(n.base())},x.apply(n,arguments)}function kn(){var n=U(R());return n.copy=function(){return $(n,kn()).constant(n.constant())},x.apply(n,arguments)}function j(){var n=z(R());return n.copy=function(){return $(n,j()).exponent(n.exponent())},x.apply(n,arguments)}function xt(){return j.apply(null,arguments).exponent(.5)}function wn(){var n=[],t=y;function a(r){if(r!=null&&!isNaN(r=+r))return t((b(n,r,1)-1)/(n.length-1))}return a.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let u of r)u!=null&&!isNaN(u=+u)&&n.push(u);return n.sort(K),a},a.interpolator=function(r){return arguments.length?(t=r,a):t},a.range=function(){return n.map((r,u)=>t(u/(n.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(u,e)=>Rn(n,e/r))},a.copy=function(){return wn(t).domain(n)},x.apply(a,arguments)}function F(){var n=0,t=.5,a=1,r=1,u,e,i,l,s,o=y,g,f=!1,c;function p(m){return isNaN(m=+m)?c:(m=.5+((m=+g(m))-e)*(r*m<r*e?l:s),o(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([n,t,a]=m,u=g(n=+n),e=g(t=+t),i=g(a=+a),l=u===e?0:.5/(e-u),s=e===i?0:.5/(i-e),r=e<u?-1:1,p):[n,t,a]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(o=m,p):o};function d(m){return function(k){var v,A,q;return arguments.length?([v,A,q]=k,o=On(m,[v,A,q]),p):[o(0),o(.5),o(1)]}}return p.range=d(T),p.rangeRound=d(E),p.unknown=function(m){return arguments.length?(c=m,p):c},function(m){return g=m,u=m(n),e=m(t),i=m(a),l=u===e?0:.5/(e-u),s=e===i?0:.5/(i-e),r=e<u?-1:1,p}}function xn(){var n=N(F()(y));return n.copy=function(){return $(n,xn())},x.apply(n,arguments)}function Nn(){var n=Q(F()).domain([.1,1,10]);return n.copy=function(){return $(n,Nn()).base(n.base())},x.apply(n,arguments)}function $n(){var n=U(F());return n.copy=function(){return $(n,$n()).constant(n.constant())},x.apply(n,arguments)}function G(){var n=z(F());return n.copy=function(){return $(n,G()).exponent(n.exponent())},x.apply(n,arguments)}function Nt(){return G.apply(null,arguments).exponent(.5)}export{B as scaleBand,xn as scaleDiverging,Nn as scaleDivergingLog,G as scaleDivergingPow,Nt as scaleDivergingSqrt,$n as scaleDivergingSymlog,rn as scaleIdentity,P as scaleImplicit,tn as scaleLinear,cn as scaleLog,L as scaleOrdinal,ut as scalePoint,H as scalePow,hn as scaleQuantile,dn as scaleQuantize,pn as scaleRadial,vn as scaleSequential,Mn as scaleSequentialLog,j as scaleSequentialPow,wn as scaleSequentialQuantile,xt as scaleSequentialSqrt,kn as scaleSequentialSymlog,dt as scaleSqrt,fn as scaleSymlog,yn as scaleThreshold,kt as scaleTime,wt as scaleUtc,nn as tickFormat};
