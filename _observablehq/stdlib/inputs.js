var nn=Object.defineProperty;var o=(e,t)=>nn(e,"name",{value:t,configurable:!0});var me,ve,pe;import{html as p}from"../../_npm/htl@0.3.1/_esm.js";import{AbstractFile as rn}from"../stdlib.js";var on=Object.defineProperty,it=o((e,t)=>on(e,"name",{value:t,configurable:!0}),"t$6");function B(e){return e==null?null:typeof e=="number"?`${e}px`:`${e}`}o(B,"length"),it(B,"length");function I(e){return{"--input-width":B(e)}}o(I,"maybeWidth"),it(I,"maybeWidth");var an=Object.defineProperty,Te=o((e,t)=>an(e,"name",{value:t,configurable:!0}),"e$1");const De={bubbles:!0};function Q(e){e.preventDefault()}o(Q,"preventDefault"),Te(Q,"preventDefault");function ue({currentTarget:e}){(e.form||e).dispatchEvent(new Event("input",De))}o(ue,"dispatchInput"),Te(ue,"dispatchInput");function ze(e){return e.checkValidity()}o(ze,"checkValidity"),Te(ze,"checkValidity");var ln=Object.defineProperty,un=o((e,t)=>ln(e,"name",{value:t,configurable:!0}),"n$6");function L(e){return e}o(L,"identity"),un(L,"identity");var sn=Object.defineProperty,cn=o((e,t)=>sn(e,"name",{value:t,configurable:!0}),"n$5");let fn=0;function se(){return`inputs-3a86ea-${++fn}`}o(se,"newId"),cn(se,"newId");var dn=Object.defineProperty,mn=o((e,t)=>dn(e,"name",{value:t,configurable:!0}),"o$5");function D(e,t){if(e)return e=p`<label>${e}`,t!==void 0&&(e.htmlFor=t.id=se()),e}o(D,"maybeLabel"),mn(D,"maybeLabel");var vn=Object.defineProperty,lt=o((e,t)=>vn(e,"name",{value:t,configurable:!0}),"m$3");function ut(e="\u2261",{label:t="",value:n,reduce:a,disabled:r,required:i=!1,width:u}={}){const d=typeof e=="string"||e instanceof Node;d?(!i&&n===void 0&&(n=0),a===void 0&&(a=lt(($=0)=>$+1,"reduce")),r=new Set(r?[e]:[]),e=[[e,a]]):(!i&&n===void 0&&(n=null),r=new Set(r===!0?Array.from(e,([$])=>$):r||void 0));const f=p`<form class=inputs-3a86ea>`;f.addEventListener("submit",Q);const s={width:B(u)},m=Array.from(e,([$,x=L])=>{if(typeof x!="function")throw new TypeError("reduce is not a function");return p`<button disabled=${r.has($)} style=${s} onclick=${b=>{f.value=x(f.value),ue(b)}}>${$}`});return(t=D(t,d?m[0]:void 0))&&f.append(t),f.append(...m),f.value=n,f}o(ut,"button"),lt(ut,"button");var pn=Object.defineProperty,Ce=o((e,t)=>pn(e,"name",{value:t,configurable:!0}),"n$4");function Z(e){return Array.isArray(e)?e:Array.from(e)}o(Z,"arrayify"),Ce(Z,"arrayify");function Le(e){return e?typeof e[Symbol.iterator]=="function":!1}o(Le,"o$4"),Ce(Le,"iterable");function qe(e){if(Le(e.columns))return e.columns;if(e.schema&&Le(e.schema.fields))return Array.from(e.schema.fields,t=>t.name);if(typeof e.columnNames=="function")return e.columnNames()}o(qe,"maybeColumns"),Ce(qe,"maybeColumns");var $n=Object.defineProperty,Me=o((e,t)=>$n(e,"name",{value:t,configurable:!0}),"i$3");function st(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),a=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return`${ct(e.getUTCFullYear())}-${q(e.getUTCMonth()+1,2)}-${q(e.getUTCDate(),2)}${n||a||r||i?`T${q(n,2)}:${q(a,2)}${r||i?`:${q(r,2)}${i?`.${q(i,3)}`:""}`:""}Z`:""}`}o(st,"c$2"),Me(st,"format");function ct(e){return e<0?`-${q(-e,6)}`:e>9999?`+${q(e,6)}`:q(e,4)}o(ct,"f$4"),Me(ct,"formatYear");function q(e,t){return`${e}`.padStart(t,"0")}o(q,"t$4"),Me(q,"pad");var bn=Object.defineProperty,hn=o((e,t)=>bn(e,"name",{value:t,configurable:!0}),"t$3");const yn=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function ft(e,t){return yn.test(e+="")?new Date(e):typeof t=="function"?t(e):t}o(ft,"r$4"),hn(ft,"parse");var gn=Object.defineProperty,ye=o((e,t)=>gn(e,"name",{value:t,configurable:!0}),"i$2");function K(e){return e==null?"":`${e}`}o(K,"stringify"),ye(K,"stringify");const ge=fe(e=>{const t=ce(e);return n=>n==null?"":typeof n=="number"?t(n):n instanceof Date?_e(n):`${n}`}),ce=fe(e=>t=>t===0?"0":t.toLocaleString(e)),_n=ge(),wn=ce();function Fe(e){const t=e.toString(),n=t.length;let a=-1,r;e:for(let i=1;i<n;++i)switch(t[i]){case".":a=r=i;break;case"0":a===0&&(a=i),r=i;break;default:if(!+t[i])break e;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(r+1):t}o(Fe,"formatTrim"),ye(Fe,"formatTrim");function _e(e){return st(e,"Invalid Date")}o(_e,"formatDate"),ye(_e,"formatDate");function fe(e){let t=fe,n;return(a="en")=>a===t?n:n=e(t=a)}o(fe,"localize"),ye(fe,"localize");var xn=Object.defineProperty,Re=o((e,t)=>xn(e,"name",{value:t,configurable:!0}),"r$3");function we(e,t){return X(t)-X(e)||(e<t?-1:e>t?1:e>=t?0:NaN)}o(we,"ascending"),Re(we,"ascending");function Ue(e,t){return X(t)-X(e)||(t<e?-1:t>e?1:t>=e?0:NaN)}o(Ue,"descending"),Re(Ue,"descending");function X(e){return e!=null&&!Number.isNaN(e)}o(X,"defined"),Re(X,"defined");var On=Object.defineProperty,M=o((e,t)=>On(e,"name",{value:t,configurable:!0}),"o$2");const kn=M(([e])=>e,"first"),dt=M(([,e])=>e,"second");function Ie({multiple:e,render:t,selectedIndexes:n,select:a}){return M(function(r,{locale:i,keyof:u=r instanceof Map?kn:L,valueof:d=r instanceof Map?dt:L,format:f=(g=>(y,j,O)=>g(u(y,j,O)))(ge(i)),multiple:s,key:m,value:$,disabled:x=!1,sort:b,unique:h,...N}={}){if(typeof u!="function")throw new TypeError("keyof is not a function");if(typeof d!="function")throw new TypeError("valueof is not a function");if(typeof f!="function")throw new TypeError("format is not a function");e!==void 0&&(s=e),b=pt(b);let g=+s;$===void 0&&($=m!==void 0&&r instanceof Map?g>0?Array.from(m,k=>r.get(k)):r.get(m):void 0),h=!!h,r=Z(r);let y=r.map((k,P)=>[u(k,P,r),P]);b!==void 0&&y.sort(([k],[P])=>b(k,P)),h&&(y=[...new Map(y.map(k=>[bt(k[0]),k])).values()]);const j=y.map(dt);s===!0?g=Math.max(1,Math.min(10,j.length)):g>0?s=!0:(s=!1,g=void 0);const[O,v]=t(r,j,mt(r,j,$,s,d),vt(r,j,x,d),{...N,format:f,multiple:s,size:g});O.addEventListener("input",_),O.addEventListener("change",ue),O.addEventListener("submit",Q);function _(k){if(k&&k.isTrusted&&O.removeEventListener("change",ue),s)$=n(v).map(P=>d(r[P],P,r));else{const P=$t(v);$=P<0?null:d(r[P],P,r)}}return o(_,"T"),M(_,"oninput"),_(),Object.defineProperty(O,"value",{get(){return $},set(k){if(s){const P=new Set(k);for(const z of v){const R=+z.value;a(z,P.has(d(r[R],R,r)))}}else v.value=j.find(P=>k===d(r[P],P,r));_()}})},"chooser")}o(Ie,"createChooser"),M(Ie,"createChooser");function mt(e,t,n,a,r){const i=new Set(n===void 0?[]:a?Z(n):[n]);if(!i.size)return()=>!1;const u=new Set;for(const d of t)i.has(r(e[d],d,e))&&u.add(d);return d=>u.has(d)}o(mt,"J"),M(mt,"maybeSelection");function vt(e,t,n,a){if(typeof n=="boolean")return n;const r=new Set(Z(n)),i=new Set;for(const u of t)r.has(a(e[u],u,e))&&i.add(u);return u=>i.has(u)}o(vt,"K"),M(vt,"maybeDisabled");function pt(e){if(!(e===void 0||e===!1)){if(e===!0||e==="ascending")return we;if(e==="descending")return Ue;if(typeof e=="function")return e;throw new TypeError("sort is not a function")}}o(pt,"N$1"),M(pt,"maybeSort");function $t(e){return e.value?+e.value:-1}o($t,"Q"),M($t,"selectedIndex");function bt(e){return e!==null&&typeof e=="object"?e.valueOf():e}o(bt,"R$1"),M(bt,"intern");var jn=Object.defineProperty,ee=o((e,t)=>jn(e,"name",{value:t,configurable:!0}),"s$2");function He(e,t){return Ie({multiple:e,render(n,a,r,i,{format:u,label:d}){const f=p`<form class="inputs-3a86ea inputs-3a86ea-checkbox">
      ${D(d)}<div>
        ${a.map(s=>p`<label><input type=${t} disabled=${typeof i=="function"?i(s):i} name=input value=${s} checked=${r(s)}>${u(n[s],s,n)}`)}
      </div>
    </form>`;return[f,yt(f.elements.input,e)]},selectedIndexes(n){return Array.from(n).filter(a=>a.checked).map(a=>+a.value)},select(n,a){n.checked=a}})}o(He,"y"),ee(He,"createCheckbox");const Nn=He(!1,"radio"),Pn=He(!0,"checkbox");function ht({label:e,value:t,values:n,disabled:a}={}){const r=p`<input class=inputs-3a86ea-input type=checkbox name=input disabled=${a}>`,i=p`<form class="inputs-3a86ea inputs-3a86ea-toggle">${D(e,r)}${r}`;return Object.defineProperty(i,"value",{get(){return n===void 0?r.checked:n[r.checked?0:1]},set(u){r.checked=n===void 0?!!u:u===n[0]}}),t!==void 0&&(i.value=t),i}o(ht,"toggle"),ee(ht,"toggle");function yt(e,t){return e===void 0?new An(t?[]:null):typeof e.length>"u"?new(t?En:Sn)(e):e}o(yt,"x"),ee(yt,"inputof");const gt=(me=class{constructor(t){this._value=t}get value(){return this._value}set value(t){}*[Symbol.iterator](){}},o(me,"f"),me);ee(gt,"OptionZero");let An=gt;const _t=(ve=class{constructor(t){this._input=t}get value(){const{_input:t}=this;return t.checked?t.value:""}set value(t){const{_input:n}=this;n.checked||(n.checked=K(t)===n.value)}*[Symbol.iterator](){yield this._input}},o(ve,"_"),ve);ee(_t,"OptionOne");let Sn=_t;const wt=(pe=class{constructor(t){this._input=t,this._value=t.checked?[t.value]:[]}get value(){return this._value}set value(t){const{_input:n}=this;n.checked||(n.checked=K(t)===n.value,this._value=n.checked?[n.value]:[])}*[Symbol.iterator](){yield this._input}},o(pe,"m"),pe);ee(wt,"MultipleOptionOne");let En=wt;var Tn=Object.defineProperty,Dn=o((e,t)=>Tn(e,"name",{value:t,configurable:!0}),"i$1");function xe(e){if(e===void 0)return[null,null];const t=se();return[p`<datalist id=${t}>${Array.from(e,n=>p`<option value=${K(n)}>`)}`,t]}o(xe,"maybeDatalist"),Dn(xe,"maybeDatalist");var zn=Object.defineProperty,T=o((e,t)=>zn(e,"name",{value:t,configurable:!0}),"e");function te(e,t,n,{validate:a=ze,submit:r}={},{get:i=T(s=>s.value,"get"),set:u=T((s,m)=>s.value=K(m),"set"),same:d=T((s,m)=>s.value===m,"same"),after:f=T(s=>t.after(s),"after")}={}){r=r===!0?"Submit":r||null;const s=r?p`<button type=submit disabled>${r}`:null;r&&f(s),u(t,n),n=a(t)?i(t):void 0,e.addEventListener("submit",$),t.oninput=x;function m(){if(a(t))return n=i(t),!0}o(m,"i"),T(m,"update");function $(b){Q(b),r&&(m()?(s.disabled=!0,ue(b)):t.reportValidity())}o($,"d"),T($,"onsubmit");function x(b){r?(s.disabled=d(t,n),b.stopPropagation()):m()||b.stopPropagation()}return o(x,"m"),T(x,"oninput"),Object.defineProperty(e,"value",{get(){return n},set(b){u(t,b),m()}})}o(te,"createText"),T(te,"createText");function ne({label:e,value:t="",type:n="text",placeholder:a,pattern:r,spellcheck:i,autocomplete:u,autocapitalize:d,min:f,max:s,minlength:m,maxlength:$,required:x=m>0,datalist:b,readonly:h,disabled:N,width:g,...y}={}){const[j,O]=xe(b),v=p`<input
    type=${n}
    name=text
    list=${O}
    readonly=${h}
    disabled=${N}
    required=${x}
    min=${f}
    max=${s}
    minlength=${m}
    maxlength=${$}
    pattern=${r}
    spellcheck=${Oe(i)}
    autocomplete=${W(u)}
    autocapitalize=${W(d)}
    placeholder=${a}
  >`,_=p`<form class=inputs-3a86ea style=${I(g)}>
    ${D(e,v)}<div class=inputs-3a86ea-input>
      ${v}
    </div>${j}
  </form>`;return te(_,v,t,y)}o(ne,"text"),T(ne,"text");function xt(e){return ne({...e,type:"email"})}o(xt,"email"),T(xt,"email");function Ot(e){return ne({...e,type:"tel"})}o(Ot,"tel"),T(Ot,"tel");function kt(e){return ne({...e,type:"url"})}o(kt,"url"),T(kt,"url");function jt(e){return ne({...e,type:"password"})}o(jt,"password"),T(jt,"password");function Oe(e){return e==null?null:`${e}`}o(Oe,"truefalse"),T(Oe,"truefalse");function W(e){return e==null?null:`${e===!1?"off":e===!0?"on":e}`}o(W,"onoff"),T(W,"onoff");var Cn=Object.defineProperty,Ln=o((e,t)=>Cn(e,"name",{value:t,configurable:!0}),"a$1");function Nt({label:e,value:t,required:n,datalist:a,readonly:r,disabled:i,width:u,...d}={}){const[f,s]=xe(a),m=se(),$=p`<input
    type=color
    name=text
    value=${t}
    id=${m}
    list=${s}
    readonly=${r}
    disabled=${i}
    required=${n}
  >`,x=p`<output
    for=${m}
  >`;x.value=$.value,$.addEventListener("input",()=>x.value=$.value);const b=p`<form class=inputs-3a86ea style=${I(u)}>
    ${D(e,$)}<div class=inputs-3a86ea-input>
      <div class=inputs-3a86ea-input>${$}${x}</div>
    </div>${f}
  </form>`;return te(b,$,t,d,{after:h=>$.parentNode.after(h)})}o(Nt,"color"),Ln(Nt,"color");var qn=Object.defineProperty,re=o((e,t)=>qn(e,"name",{value:t,configurable:!0}),"n$2");const Mn={type:"date",get:e=>e.valueAsDate,set:(e,t)=>e.value=Ve(t),same:(e,t)=>+e.valueAsDate==+t,format:Ve},Fn={type:"datetime-local",get:e=>e.value?new Date(e.value):null,set:(e,t)=>e.value=Ze(t),same:(e,t)=>+new Date(e.value)==+t,format:Ze};function Be({label:e,min:t,max:n,required:a,readonly:r,disabled:i,width:u,value:d,...f}={},{type:s,format:m,...$}){const x=p`<input type=${s} name=date readonly=${r} disabled=${i} required=${a} min=${m(t)} max=${m(n)}>`,b=p`<form class=inputs-3a86ea style=${I(u)}>
    ${D(e,x)}<div class=inputs-3a86ea-input>
      ${x}
    </div>
  </form>`;return te(b,x,ke(d),f,$)}o(Be,"s$1"),re(Be,"createDate");function Pt(e){return Be(e,Mn)}o(Pt,"date"),re(Pt,"date");function At(e){return Be(e,Fn)}o(At,"datetime"),re(At,"datetime");function ke(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?ft(e,null):e==null||isNaN(e=+e)?null:new Date(+e)}o(ke,"o$1"),re(ke,"coerce");function Ve(e){return(e=ke(e))?e.toISOString().slice(0,10):e}o(Ve,"m$1"),re(Ve,"formatDate");function Ze(e){return(e=ke(e))?new Date(+e-e.getTimezoneOffset()*1e3*60).toISOString().slice(0,16):e}o(Ze,"f$2"),re(Ze,"formatDatetime");var Rn=Object.defineProperty,de=o((e,t)=>Rn(e,"name",{value:t,configurable:!0}),"c$1");function St(e,t){return(Array.isArray(e)?Tt:zt)(e,t)}o(St,"form"),de(St,"form");function Et(e){return p`<div>${e}`}o(Et,"v$1"),de(Et,"arrayTemplate");function Tt(e,{template:t=Et}={}){e=[...e];let n=e.map(({value:a})=>a);return Object.defineProperty(t(e),"value",{get(){for(let a=0,r=e.length;a<r;++a){const i=e[a].value;Object.is(i,n[a])||(n=[...n],n[a]=i)}return n},set(a=[]){for(let r=0,i=e.length;r<i;++r)e[r].value=a[r]}})}o(Tt,"m"),de(Tt,"arrayForm");function Dt(e){return p`<div>${Object.values(e)}`}o(Dt,"b$1"),de(Dt,"objectTemplate");function zt(e,{template:t=Dt}={}){e={...e};let n=Object.fromEntries(Object.entries(e).map(([a,{value:r}])=>[a,r]));return Object.defineProperty(t(e),"value",{get(){for(const a in n){const r=e[a].value;Object.is(r,n[a])||(n={...n},n[a]=r)}return n},set(a={}){for(const r in e)e[r].value=a[r]}})}o(zt,"j$1"),de(zt,"objectForm");var Un=Object.defineProperty,Ke=o((e,t)=>Un(e,"name",{value:t,configurable:!0}),"r$2");function We(e){var a;const t=(a=class extends e{constructor(i){super(i.name),Object.defineProperty(this,"_",{value:i}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=URL.createObjectURL(this._))}async blob(){return this._}async stream(){return this._.stream()}},o(a,"n"),a);Ke(t,"LocalFile");let n=t;return Ke(function({label:r,required:i,accept:u,capture:d,multiple:f,disabled:s,width:m,value:$,submit:x,...b}={}){const h=p`<input
      type=file
      name=file
      disabled=${s}
      required=${i}
      accept=${u}
      capture=${d}
      multiple=${f}
    >`,N=p`<form class=inputs-3a86ea style=${I(m)}>
      ${D(r,h)}<div class=inputs-3a86ea-input>
        ${h}
      </div>
    </form>`;return te(N,h,void 0,b,{get:g=>f?Array.from(g.files,y=>new n(y)):g.files.length?new n(g.files[0]):null,set:()=>{},same:()=>!1})},"file")}o(We,"fileOf"),Ke(We,"fileOf");var In=Object.defineProperty,F=o((e,t)=>In(e,"name",{value:t,configurable:!0}),"l$1");const je=1e-6;function Ct(e,t){return arguments.length<2&&(t=e,e=void 0),e===void 0&&(e=[]),Ye({extent:e},t)}o(Ct,"number"),F(Ct,"number");function Lt(e=[0,1],t){return Ye({extent:e,range:!0},t)}o(Lt,"range"),F(Lt,"range");function Ye({extent:[e,t],range:n},{format:a=Fe,transform:r,invert:i,label:u="",value:d,step:f,disabled:s,placeholder:m,validate:$=ze,width:x}={}){let b;if(typeof a!="function")throw new TypeError("format is not a function");(e==null||isNaN(e=+e))&&(e=-1/0),(t==null||isNaN(t=+t))&&(t=1/0),e>t&&([e,t]=[t,e],r===void 0&&(r=Ne)),f!==void 0&&(f=+f);const h=p`<input type=number min=${isFinite(e)?e:null} max=${isFinite(t)?t:null} step=${f??"any"} name=number required placeholder=${m} oninput=${O} disabled=${s}>`;let N;if(n){if(r===void 0&&(r=L),typeof r!="function")throw new TypeError("transform is not a function");if(i===void 0&&(i=r.invert===void 0?Mt(r):r.invert),typeof i!="function")throw new TypeError("invert is not a function");let v=+r(e),_=+r(t);v>_&&([v,_]=[_,v]),n=p`<input type=range min=${isFinite(v)?v:null} max=${isFinite(_)?_:null} step=${f===void 0||r!==L&&r!==Ne?"any":f} name=range oninput=${j} disabled=${s}>`,N=r===L?n:p`<input type=range min=${e} max=${t} step=${f===void 0?"any":f} name=range disabled=${s}>`}else n=null,r=i=L;const g=p`<form class=inputs-3a86ea style=${I(x)}>
    ${D(u,h)}<div class=inputs-3a86ea-input>
      ${h}${n}
    </div>
  </form>`;g.addEventListener("submit",Q);function y(v){return N?(v=Math.max(e,Math.min(t,v)),isFinite(v)?(N.valueAsNumber=v,N.valueAsNumber):v):+v}o(y,"M"),F(y,"coerce");function j(v){const _=y(i(n.valueAsNumber));if(isFinite(_)&&(h.valueAsNumber=Math.max(e,Math.min(t,_)),$(h))){b=h.valueAsNumber,h.value=a(b);return}v&&v.stopPropagation()}o(j,"w"),F(j,"onrange");function O(v){const _=y(h.valueAsNumber);if(isFinite(_)&&(n&&(n.valueAsNumber=r(_)),$(h))){b=_;return}v&&v.stopPropagation()}return o(O,"E"),F(O,"onnumber"),Object.defineProperty(g,"value",{get(){return b},set(v){v=y(v),isFinite(v)&&(h.valueAsNumber=v,n&&(n.valueAsNumber=r(v)),$(h)&&(b=v,h.value=a(b)))}}),d===void 0&&N&&(d=N.valueAsNumber),d!==void 0&&(g.value=d),g}o(Ye,"g"),F(Ye,"createRange");function Ne(e){return-e}o(Ne,"v"),F(Ne,"negate");function qt(e){return e*e}o(qt,"k"),F(qt,"square");function Mt(e){return e===L||e===Ne?e:e===Math.sqrt?qt:e===Math.log?Math.exp:e===Math.exp?Math.log:t=>Ft(e,t,t)}o(Mt,"D"),F(Mt,"solver");function Ft(e,t,n){let a=100,r,i,u;n=n===void 0?0:+n,t=+t;do i=e(n),u=e(n+je),i===u&&(u=i+je),n-=r=-1*je*(i-t)/(i-u);while(a-- >0&&Math.abs(r)>je);return a<0?NaN:n}o(Ft,"O"),F(Ft,"solve");var Hn=Object.defineProperty,Y=o((e,t)=>Hn(e,"name",{value:t,configurable:!0}),"n$1");function Rt(e,{locale:t,format:n=Bn(t),label:a,query:r="",placeholder:i="Search",columns:u=qe(e),spellcheck:d,autocomplete:f,autocapitalize:s,filter:m=u===void 0?Ge:Ut(u),datalist:$,disabled:x,required:b=!0,width:h}={}){let N=[];e=Z(e),b=!!b;const[g,y]=xe($),j=p`<input
    name=input
    type=search
    list=${y}
    disabled=${x}
    spellcheck=${Oe(d)}
    autocomplete=${W(f)}
    autocapitalize=${W(s)}
    placeholder=${i}
    value=${r}
    oninput=${_}
  >`,O=p`<output name=output>`,v=p`<form class=inputs-3a86ea style=${I(h)}>
    ${D(a,j)}<div class=inputs-3a86ea-input>
      ${j}${O}
    </div>${g}
  </form>`;v.addEventListener("submit",Q);function _(){N=j.value||b?e.filter(m(j.value)):[],u!==void 0&&(N.columns=u),O.value=n(N.length)}return o(_,"c"),Y(_,"oninput"),_(),Object.defineProperties(v,{value:{get(){return N}},query:{get(){return r},set(k){r=j.value=K(k),_()}}})}o(Rt,"search"),Y(Rt,"search");function Ge(e){const t=`${e}`.split(/\s+/g).filter(n=>n).map(Je);return n=>{if(n==null)return!1;if(typeof n=="object")e:for(const a of t){for(const r of It(n))if(a.test(r))continue e;return!1}else for(const a of t)if(!a.test(n))return!1;return!0}}o(Ge,"searchFilter"),Y(Ge,"searchFilter");function Ut(e){return t=>{const n=`${t}`.split(/\s+/g).filter(a=>a).map(Je);return a=>{e:for(const r of n){for(const i of e)if(r.test(a[i]))continue e;return!1}return!0}}}o(Ut,"W"),Y(Ut,"columnFilter");function*It(e){for(const t in e)yield e[t]}o(It,"A"),Y(It,"valuesof");function Je(e){return new RegExp(`(?:^|[^\\p{L}-])${Ht(e)}`,"iu")}o(Je,"b"),Y(Je,"termFilter");function Ht(e){return e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}o(Ht,"B$1"),Y(Ht,"escapeRegExp");const Bn=fe(e=>{const t=ce(e);return n=>`${t(n)} result${n===1?"":"s"}`}),Vn=Ie({render(e,t,n,a,{format:r,multiple:i,size:u,label:d,width:f}){const s=p`<select class=inputs-3a86ea-input disabled=${a===!0} multiple=${i} size=${u} name=input>
      ${t.map(m=>p`<option value=${m} disabled=${typeof a=="function"?a(m):!1} selected=${n(m)}>${K(r(e[m],m,e))}`)}
    </select>`;return[p`<form class=inputs-3a86ea style=${I(f)}>${D(d,s)}${s}`,s]},selectedIndexes(e){return Array.from(e.selectedOptions,t=>+t.value)},select(e,t){e.selected=t}});var Zn=Object.defineProperty,S=o((e,t)=>Zn(e,"name",{value:t,configurable:!0}),"l");const Bt=22;function Vt(e,t={}){const{rows:n=11.5,height:a,maxHeight:r=a===void 0?(n+1)*Bt-1:void 0,width:i={},maxWidth:u}=t,d=se(),f=p`<form class="inputs-3a86ea inputs-3a86ea-table" id=${d} style=${{height:B(a),maxHeight:B(r),width:typeof i=="string"||typeof i=="number"?B(i):void 0,maxWidth:B(u)}}>`;return e&&typeof e.then=="function"?(Object.defineProperty(f,"value",{configurable:!0,set(){throw new Error("cannot set value while data is unresolved")}}),Promise.resolve(e).then(s=>Qe({root:f,id:d},s,t))):Qe({root:f,id:d},e,t),f}o(Vt,"table"),S(Vt,"table");function Qe({root:e,id:t},n,{columns:a=qe(n),value:r,required:i=!0,sort:u,reverse:d=!1,format:f,locale:s,align:m,header:$,rows:x=11.5,width:b={},multiple:h=!0,layout:N}={}){a=a===void 0?Yt(n):Z(a),N===void 0&&(N=a.length>=12?"auto":"fixed"),f=Zt(f,n,a,s),m=Kt(m,n,a);let g=[],y=[],j=n[Symbol.iterator](),O=0,v=Wt(n),_=P(x*2);function k(){O>=0&&(O=j=void 0,y=Uint32Array.from(g=Z(n),(l,c)=>c),v=y.length)}o(k,"p"),S(k,"materialize");function P(l){if(l=Math.floor(l),v!==void 0)return Math.min(v,l);if(l<=O)return l;for(;l>O;){const{done:c,value:w}=j.next();if(c)return v=O;y.push(O++),g.push(w)}return O}o(P,"C"),S(P,"minlengthof");let z=null,R=!1,A=new Set,H=null,V=null;const C=p`<tbody>`,tn=p`<tr><td><input type=${h?"checkbox":"radio"} name=${h?null:"radio"}></td>${a.map(()=>p`<td>`)}`,$e=p`<tr><th><input type=checkbox onclick=${ot} disabled=${!h}></th>${a.map(l=>p`<th title=${l} onclick=${c=>Ee(c,l)}><span></span>${$&&l in $?$[l]:l}</th>`)}</tr>`;e.appendChild(p.fragment`<table style=${{tableLayout:N}}>
  <thead>${P(1)||a.length?$e:null}</thead>
  ${C}
</table>
<style>${a.map((l,c)=>{const w=[];if(m[l]!=null&&w.push(`text-align:${m[l]}`),b[l]!=null&&w.push(`width:${B(b[l])}`),w.length)return`#${t} tr>:nth-child(${c+2}){${w.join(";")}}`}).filter(L).join(`
`)}</style>`);function be(l,c){if(O===l){for(;l<c;++l)Ae(j.next().value,l);O=c}else for(let w;l<c;++l)w=y[l],Ae(g[w],w)}o(be,"q"),S(be,"appendRows");function Ae(l,c){const w=tn.cloneNode(!0),E=oe(w);if(E.onclick=at,E.checked=A.has(c),E.value=c,l!=null)for(let J=0;J<a.length;++J){let he=a[J],U=l[he];X(U)&&(U=f[he](U,c,n),U instanceof Node||(U=document.createTextNode(U)),w.childNodes[J+1].appendChild(U))}C.append(w)}o(Ae,"G"),S(Ae,"appendRow");function G(l){k();let c=y.indexOf(l);if(c<C.childNodes.length){const w=C.childNodes[c];oe(w).checked=!1}A.delete(l)}o(G,"H"),S(G,"unselect");function ie(l){k();let c=y.indexOf(l);if(c<C.childNodes.length){const w=C.childNodes[c];oe(w).checked=!0}A.add(l)}o(ie,"v"),S(ie,"select");function*Se(l,c){if(k(),l=y.indexOf(l),c=y.indexOf(c),l<c)for(;l<=c;)yield y[l++];else for(;c<=l;)yield y[c++]}o(Se,"J"),S(Se,"range");function rt(l){return l[Symbol.iterator]().next().value}o(rt,"ne"),S(rt,"first");function ot(l){if(k(),this.checked){A=new Set(y);for(const c of C.childNodes)oe(c).checked=!0}else{for(let c of A)G(c);H=V=null,l.detail&&l.currentTarget.blur()}le()}o(ot,"ie"),S(ot,"reselectAll");function at(l){k();let c=+this.value;if(h)if(l.shiftKey){if(H===null)H=A.size?rt(A):y[0];else for(let w of Se(H,V))G(w);V=c;for(let w of Se(H,V))ie(w)}else H=V=c,A.has(c)?(G(c),H=V=null,l.detail&&l.currentTarget.blur()):ie(c);else{for(let w of A)G(w);ie(c)}le()}o(at,"re"),S(at,"reselect");function Ee(l,c){k();const w=l.currentTarget;let E;if(z===w&&l.metaKey)Pe(z).textContent="",z=null,R=!1,E=we;else{z===w?R=!R:(z&&(Pe(z).textContent=""),z=w,R=l.altKey);const J=R?Ue:we;E=S((he,U)=>J(g[he][c],g[U][c]),"compare"),Pe(w).textContent=R?"\u25BE":"\u25B4"}for(y.sort(E),A=new Set(Array.from(A).sort(E)),e.scrollTo(e.scrollLeft,0);C.firstChild;)C.firstChild.remove();be(0,_=P(x*2)),H=V=null,le()}o(Ee,"Q"),S(Ee,"resort");function le(){const l=oe($e);l.disabled=!h&&!A.size,l.indeterminate=h&&A.size&&A.size!==v,l.checked=A.size,r=void 0}if(o(le,"D"),S(le,"reinput"),e.addEventListener("scroll",()=>{e.scrollHeight-e.scrollTop<x*Bt*1.5&&_<P(_+1)&&be(_,_=P(_+x))}),u===void 0&&d&&(k(),y.reverse()),r!==void 0){if(k(),h){const l=new Set(r);A=new Set(y.filter(c=>l.has(g[c])))}else{const l=g.indexOf(r);A=l<0?new Set:new Set([l])}le()}if(P(1)?be(0,_):C.append(p`<tr>${a.length?p`<td>`:null}<td rowspan=${a.length} style="padding-left: var(--length3); font-style: italic;">No results.</td></tr>`),u!==void 0){let l=a.indexOf(u);l>=0&&(d&&(z=$e.childNodes[l+1]),Ee({currentTarget:$e.childNodes[l+1]},a[l]))}return Object.defineProperty(e,"value",{get(){if(r===void 0)if(k(),h)r=Array.from(i&&A.size===0?y:A,l=>g[l]),r.columns=a;else if(A.size){const[l]=A;r=g[l]}else r=null;return r},set(l){if(k(),h){const c=new Set(l),w=new Set(y.filter(E=>c.has(g[E])));for(const E of A)w.has(E)||G(E);for(const E of w)A.has(E)||ie(E)}else{const c=g.indexOf(l);A=c<0?new Set:new Set([c])}r=void 0}})}o(Qe,"Z"),S(Qe,"initialize");function oe(e){return e.firstChild.firstChild}o(oe,"R"),S(oe,"inputof");function Pe(e){return e.firstChild}o(Pe,"B"),S(Pe,"orderof");function Zt(e={},t,n,a){const r=Object.create(null);for(const i of n){if(i in e){r[i]=e[i];continue}switch(Xe(t,i)){case"number":r[i]=ce(a);break;case"date":r[i]=_e;break;default:r[i]=ge(a);break}}return r}o(Zt,"pe"),S(Zt,"formatof");function Kt(e={},t,n){const a=Object.create(null);for(const r of n)r in e?a[r]=e[r]:Xe(t,r)==="number"&&(a[r]="right");return a}o(Kt,"ye"),S(Kt,"alignof");function Xe(e,t){for(const n of e){if(n==null)continue;const a=n[t];if(a!=null)return typeof a=="number"?"number":a instanceof Date?"date":void 0}}o(Xe,"ee"),S(Xe,"type");function Wt(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.numRows=="function")return e.numRows()}o(Wt,"be"),S(Wt,"lengthof");function Yt(e){const t=new Set;for(const n of e)for(const a in n)t.add(a);return Array.from(t)}o(Yt,"me"),S(Yt,"columnsof");var Kn=Object.defineProperty,Gt=o((e,t)=>Kn(e,"name",{value:t,configurable:!0}),"a");function Jt({value:e="",label:t,placeholder:n,spellcheck:a,autocomplete:r,autocapitalize:i,rows:u=3,minlength:d,maxlength:f,required:s=d>0,readonly:m,disabled:$,monospace:x=!1,resize:b=u<12,width:h,...N}={}){const g=p`<textarea
    name=text
    readonly=${m}
    disabled=${$}
    required=${s}
    rows=${u}
    minlength=${d}
    maxlength=${f}
    spellcheck=${Oe(a)}
    autocomplete=${W(r)}
    autocapitalize=${W(i)}
    placeholder=${n}
    onkeydown=${j}
    style=${{width:h,fontFamily:x?"var(--monospace, monospace)":null,resize:b?null:"none"}}
  >`,y=p`<form class="inputs-3a86ea inputs-3a86ea-textarea" style=${I(h)}>
    ${D(t,g)}<div>
      ${g}
    </div>
  </form>`;function j(O){if(N.submit&&O.key==="Enter"&&(O.metaKey||O.ctrlKey))return y.dispatchEvent(new Event("submit",De))}return o(j,"v"),Gt(j,"onkeydown"),te(y,g,e,N)}o(Jt,"textarea"),Gt(Jt,"textarea");var Wn=Object.defineProperty,Yn=o((e,t)=>Wn(e,"name",{value:t,configurable:!0}),"n");function Qt(e){const t=new EventTarget;return t.value=e,t}o(Qt,"input"),Yn(Qt,"input");var Gn=Object.defineProperty,Jn=o((e,t)=>Gn(e,"name",{value:t,configurable:!0}),"s");function et(e){return new Promise(t=>{requestAnimationFrame(()=>{const n=e.closest(".observablehq");if(!n)return t();const a=new MutationObserver(()=>{n.contains(e)||(a.disconnect(),t())});a.observe(n,{childList:!0})})})}o(et,"disposal"),Jn(et,"disposal");var Qn=Object.defineProperty,ae=o((e,t)=>Qn(e,"name",{value:t,configurable:!0}),"c");function Xt(e,t,n=et(e)){const a=nt(t),r=ae(()=>tt(e,t),"onsource"),i=ae(()=>(tt(t,e),t.dispatchEvent(new Event(a,De))),"ontarget");return r(),e.addEventListener(nt(e),i),t.addEventListener(a,r),n.then(()=>t.removeEventListener(a,r)),e}o(Xt,"bind"),ae(Xt,"bind");function en(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];default:return e.value}}o(en,"f"),ae(en,"get");function tt(e,t){const n=en(t);switch(e.type){case"range":case"number":e.valueAsNumber=n;break;case"date":e.valueAsDate=n;break;case"checkbox":e.checked=n;break;case"file":e.multiple?e.files=n:e.files=[n];break;default:e.value=n;break}}o(tt,"r"),ae(tt,"set");function nt(e){switch(e.type){case"button":case"submit":return"click";case"file":return"change";default:return"input"}}o(nt,"t$1"),ae(nt,"eventof");const Xn=We(rn);export{Xt as bind,ut as button,Pn as checkbox,Nt as color,Pt as date,At as datetime,et as disposal,xt as email,Xn as file,We as fileOf,St as form,_n as formatAuto,_e as formatDate,ge as formatLocaleAuto,ce as formatLocaleNumber,wn as formatNumber,Fe as formatTrim,Qt as input,Ct as number,jt as password,Nn as radio,Lt as range,Rt as search,Ge as searchFilter,Vn as select,Vt as table,Ot as tel,ne as text,Jt as textarea,ht as toggle,kt as url};
